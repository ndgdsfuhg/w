(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4790],{14912:(t,e,a)=>{"use strict";a.d(e,{GameBackground:()=>l});var n=a(95155),r=a(12115);let l=()=>{let t=(0,r.useRef)(null),e=(0,r.useRef)(void 0),a=(0,r.useRef)([]),l=(0,r.useRef)(Date.now()),h=(0,r.useRef)(0),o=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FECA57","#FF9FF3","#54A0FF","#5F27CD","#00D2D3","#FF9F43","#10AC84","#EE5A24","#0984E3","#6C5CE7","#A29BFE"],i=(0,r.useRef)({x:0,y:0,zoom:2.5}),s=(0,r.useRef)(null),u=(0,r.useRef)(!1),g=(0,r.useRef)(new Map),m=(0,r.useRef)(new Map),c=(t,e,a,n,r)=>{let l=r*r,h=l*r;return{x:.5*(2*e.x+(-t.x+a.x)*r+(2*t.x-5*e.x+4*a.x-n.x)*l+(-t.x+3*e.x-3*a.x+n.x)*h),y:.5*(2*e.y+(-t.y+a.y)*r+(2*t.y-5*e.y+4*a.y-n.y)*l+(-t.y+3*e.y-3*a.y+n.y)*h)}},M=function(e){let a,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=300+400*Math.random(),h=8+Math.sqrt(l)/25,s=Math.max(5,Math.floor(l/20));if(r)a=r.x,n=r.y;else{let e=t.current,r=i.current,l=e?e.width/r.zoom:1e3,h=e?e.height/r.zoom:600,o=Math.random();o<.4?(a=r.x+l+100+300*Math.random(),n=r.y+Math.random()*h):o<.8?(a=r.x+Math.random()*l,n=o<.6?r.y-100-200*Math.random():r.y+h+100+200*Math.random()):(a=r.x-100-300*Math.random(),n=r.y+Math.random()*h)}let u={id:e,x:a,y:n,angle:Math.random()*Math.PI*2,size:l,radius:h,speed:60+30*Math.random(),color:o[e%o.length],segments:[],headPath:[{x:a,y:n,timestamp:Date.now()}],intendedAngleChange:0,maxAngleChange:.05+.03*Math.random(),noiseOffset:1e3*Math.random(),noiseScale:.5+ +Math.random()};for(let t=0;t<s;t++){let e=.45*h*t,r=a-Math.cos(u.angle)*e,l=n-Math.sin(u.angle)*e;u.segments.push({x:r,y:l})}return u},f=(t,e,a,n,r)=>{let l=.38*r,h=Math.sin(n),o=-Math.cos(n),i=.34*r,s=.42*r,u=e+Math.cos(n)*i-h*s,g=a+Math.sin(n)*i-o*s,m=e+Math.cos(n)*i+h*s,c=a+Math.sin(n)*i+o*s;t.fillStyle="#FFFFFF",t.beginPath(),t.arc(u,g,l,0,2*Math.PI),t.arc(m,c,l,0,2*Math.PI),t.fill(),t.fillStyle="#000000";let M=.48*l,f=.45*l,d=Math.cos(n),x=Math.sin(n);t.beginPath(),t.arc(u+d*f*.8,g+x*f*.8,M,0,2*Math.PI),t.arc(m+d*f*.8,c+x*f*.8,M,0,2*Math.PI),t.fill()},d=(0,r.useCallback)(()=>{let n=t.current;if(!n)return;let r=n.getContext("2d");if(!r)return;let o=Date.now(),x=o-l.current;l.current=o,r.fillStyle="#0a0a0a",r.fillRect(0,0,n.width,n.height);let y=a.current,p=i.current;(t=>{let e=i.current;e.x-=t/1e3*30})(x),r.save(),r.translate(-p.x*p.zoom,-p.y*p.zoom),r.scale(p.zoom,p.zoom),((t,e,a)=>{let n=i.current;if(!s.current||!u.current)return;let r=s.current,l=300/(r.naturalWidth/r.naturalHeight),h=2*Math.max(300,l),o=300*Math.floor((n.x-h)/300),g=n.x+e+h,m=Math.floor((n.y-h)/l)*l,c=n.y+a+h;for(let e=o;e<=g;e+=300)for(let a=m;a<=c;a+=l)t.drawImage(r,e,a,300,l)})(r,n.width/p.zoom,n.height/p.zoom),r.restore(),y.forEach(t=>((t,e)=>{let n=Date.now(),r=a.current.filter(e=>e.id!==t.id),l=0,h=0;r.forEach(e=>{let a=t.x-e.x,n=t.y-e.y,r=Math.sqrt(a*a+n*n),o=(t.radius+e.radius)*3;if(r<o&&r>0){let t=(o-r)/o;l+=a/r*t*.5,h+=n/r*t*.5}});let o=(t=>.5*Math.sin(.8*t)+.3*Math.sin(1.2*t)+.2*Math.sin(1.8*t))((n+t.noiseOffset)*.005);if(t.intendedAngleChange=o*t.noiseScale,0!==l||0!==h){let e=Math.atan2(h,l),a=Math.atan2(Math.sin(e-t.angle),Math.cos(e-t.angle)),n=Math.min(1,Math.sqrt(l*l+h*h));t.intendedAngleChange=t.intendedAngleChange*(1-n)+a*n}let i=Math.max(-t.maxAngleChange,Math.min(t.maxAngleChange,t.intendedAngleChange));t.angle+=e/16.67*i,t.angle=(t.angle+2*Math.PI)%(2*Math.PI);let s=t.speed*(e/1e3);t.x+=Math.cos(t.angle)*s,t.y+=Math.sin(t.angle)*s,t.headPath.push({x:t.x,y:t.y,timestamp:n}),t.headPath.length>1e3&&t.headPath.shift(),(t=>{if(t.headPath.length<2)return;let e=.45*t.radius,a=t.segments.length,n=((t,e,a)=>{if(!t||0===t.length)return[];let n=t.slice(),r=[0];for(let t=n.length-1;t>0;t--){let e=n[t],a=n[t-1],l=e.x-a.x,h=e.y-a.y;r.push(r[r.length-1]+Math.hypot(l,h))}let l=r[r.length-1],h=[];for(let t=0;t<a;t++){let a,s=e*t;if(s>l){var o,i;let t=h[h.length-1]||n[0],a=h[h.length-2]||t,r=t.x-(null!=(o=null==a?void 0:a.x)?o:t.x),l=t.y-(null!=(i=null==a?void 0:a.y)?i:t.y),s=Math.hypot(r,l)||1;h.push({x:t.x-r/s*e,y:t.y-l/s*e});continue}let u=0;for(let t=0;t<r.length-1;t++)if(r[t]<=s&&s<=r[t+1]){u=t;break}let g=r[u],m=r[u+1],M=m>g?(s-g)/(m-g):0,f=n.length-1-u,d=f-1,x=Math.max(0,d-1),y=n[Math.max(0,f+1)]||n[f],p=n[f]||n[f],w=n[d]||n[d],b=n[x]||n[d]||n[f];if(y&&p&&w&&b)a=c(y,p,w,b,M);else{let t=w||p;a={x:p.x+(t.x-p.x)*M,y:p.y+(t.y-p.y)*M}}h.push(a)}return h})(t.headPath.map(t=>({x:t.x,y:t.y})),e,a);t.segments=n})(t)})(t,x)),(()=>{let e=a.current.filter(e=>{let a=(()=>{let e=t.current;if(!e)return{left:0,right:1e3,top:0,bottom:600};let a=i.current;return{left:a.x-200,right:a.x+e.width/a.zoom+200,top:a.y-200,bottom:a.y+e.height/a.zoom+200}})();return e.x>=a.left-400&&e.x<=a.right+400&&e.y>=a.top-400&&e.y<=a.bottom+400});for(;e.length<15;){let t=M(h.current++);e.push(t)}for(;e.length>16;)e.pop();a.current=e})(),r.save(),r.translate(-p.x*p.zoom,-p.y*p.zoom),r.scale(p.zoom,p.zoom),a.current.forEach(t=>((t,e,a)=>{let n=.95*e.radius,r=((t,e)=>{let a=Math.max(2,Math.floor(2*t)),n=Math.min(3,Math.max(2,Math.floor(1.5*(window.devicePixelRatio?window.devicePixelRatio:1)))),r="".concat(a,"_").concat(e,"_s").concat(n),l=g.current.get(r);if(l)return l;let h=document.createElement("canvas"),o=Math.ceil(a*n);h.width=o,h.height=o;let i=h.getContext("2d",{willReadFrequently:!0});if(!i)return g.current.set(r,h),h;let s=o/2,u=t=>Math.max(0,Math.min(1,t)),m=(t=>{if(!t)return{r:255,g:255,b:255};if(t.startsWith("#")){let e=t.slice(1),a=parseInt(3===e.length?e.split("").map(t=>t+t).join(""):e,16);return{r:a>>16&255,g:a>>8&255,b:255&a}}if(t.startsWith("rgb")){let e=t.match(/rgb[a]?\(([^\)]+)\)/i);if(e){let t=e[1].split(",").map(t=>parseFloat(t.trim()));return{r:0|t[0],g:0|t[1],b:0|t[2]}}}if(t.startsWith("hsl")){let e=t.match(/hsl[a]?\(([^\)]+)\)/i);if(e){let t=e[1].split(",").map(t=>t.trim());return((t,e,a)=>{let n=(1-Math.abs(2*(a/=100)-1))*(e/=100),r=n*(1-Math.abs(t/60%2-1)),l=a-n/2,h=0,o=0,i=0;return 0<=t&&t<60?(h=n,o=r,i=0):60<=t&&t<120?(h=r,o=n,i=0):120<=t&&t<180?(h=0,o=n,i=r):180<=t&&t<240?(h=0,o=r,i=n):240<=t&&t<300?(h=r,o=0,i=n):(h=n,o=0,i=r),{r:Math.round((h+l)*255),g:Math.round((o+l)*255),b:Math.round((i+l)*255)}})(parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2]))}}return{r:255,g:255,b:255}})(e),c=i.createImageData(o,o),M=c.data,f=1.416*s;for(let t=0;t<o;t++)for(let e=0;e<o;e++){let a=(t*o+e)*4,n=Math.hypot(e-s+.5,t-s+.5);if(n>=s){M[a+3]=0;continue}let r=Math.pow(u(1-Math.abs(t-s)/s),.35),l=r+(u(1-n/f)-r)*.375;l*=1.12,M[a]=Math.max(0,Math.min(255,Math.floor(m.r*l))),M[a+1]=Math.max(0,Math.min(255,Math.floor(m.g*l))),M[a+2]=Math.max(0,Math.min(255,Math.floor(m.b*l)));let h=s-n,i=h<1.5?u(h/1.5):1;M[a+3]=Math.floor(255*i)}return i.putImageData(c,0,0),g.current.set(r,h),h})(n,e.color),l=(t=>{let e=Math.max(2,Math.floor(2*t)),a=m.current.get(e);if(a)return a;let n=document.createElement("canvas"),r=Math.ceil(.6*t);n.width=e+2*r,n.height=e+2*r;let l=n.getContext("2d");if(!l)return m.current.set(e,n),n;let h=n.width/2,o=n.height/2;return l.filter="blur(".concat(Math.max(2,.35*t),"px)"),l.globalAlpha=.5,l.fillStyle="#000",l.beginPath(),l.arc(h,o,.95*t,0,2*Math.PI),l.fill(),l.filter="none",l.globalAlpha=1,m.current.set(e,n),n})(n),h=e.angle;if(e.segments.length>1){let t=e.segments[0],a=e.segments[1];h=Math.atan2(t.y-a.y,t.x-a.x)}for(let a=e.segments.length-1;a>=0;a--){let o=e.segments[a],i=0===a,s=e.angle,u=Math.max(0,a-1),g=Math.min(e.segments.length-1,a+1),m=e.segments[u],c=e.segments[g];if(m&&c&&(s=Math.atan2(c.y-m.y,c.x-m.x)),l&&(t.save(),t.translate(o.x,o.y+.12*n),t.scale(1,.75),t.globalAlpha=1,t.drawImage(l,-l.width/2,-l.height/2),t.restore()),r){let e=2*n;t.globalAlpha=1,t.save(),t.translate(o.x,o.y),t.rotate(s),t.drawImage(r,-e/2,-e/2,e,e),t.restore()}i&&f(t,o.x,o.y,h,n)}})(r,t,0)),r.restore(),e.current=requestAnimationFrame(d)},[]);return(0,r.useEffect)(()=>{let n=t.current;if(!n)return;let r=new Image;r.onload=()=>{s.current=r,u.current=!0},r.onerror=()=>{u.current=!1},r.src="/images/background_tile.png";let l=()=>{n.width=window.innerWidth,n.height=window.innerHeight};l(),window.addEventListener("resize",l);let o=[];for(let t=0;t<15;t++)o.push(M(h.current++));return a.current=o,e.current=requestAnimationFrame(d),()=>{window.removeEventListener("resize",l),e.current&&cancelAnimationFrame(e.current)}},[d]),(0,n.jsx)("div",{className:"fixed inset-0 z-0 bg-[#0a0a0a]",children:(0,n.jsx)("canvas",{ref:t,className:"w-full h-full"})})}},92485:(t,e,a)=>{Promise.resolve().then(a.bind(a,14912))}},t=>{t.O(0,[8441,1255,7358],()=>t(t.s=92485)),_N_E=t.O()}]);